<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Es 1 ulteriori esercizi</title>
    <script type="text/javascript">
        function valida(){
            if(obbligatorio()==true){
                if(valida_mail()==true && valida_pssw()==true && valida_voto()==true)
                    mostra_dati();
            }
        }
        function valida_mail(){
            if(info.mail.value.indexOf("@", 1) == -1){
                alert("Mail non valida!");
                info.mail.value="";
                info.mail.focus();
                return false;
            }
            return true;
        }
        function valida_pssw(){
            if(info.p1.value!=info.p2.value){
                alert("Le password non corrispondono!");
                info.p1.value="";
                info.p2.value="";
                info.p1.focus();
                return false;
            }
            return true;
        }
        function valida_voto(){
            if(info.voto.value<60 || info.voto.value>100){
                alert("Voto non valido!");
                info.voto.value="";
                info.voto.focus();
                return false;
            }
            return true;
        }
        function obbligatorio(){
            if(info.nome.value==""){
                alert("Il campo nome è obbligatorio");
                info.nome.focus();
                return false;
            }
            if(info.cognome.value==""){
                alert("Il campo cognome è obbligatorio");
                info.cognome.focus();
                return false;
            }
            if(info.data.value==""){
                alert("Il campo data è obbligatorio");
                info.data.focus();
                return false;
            }
            if(info.mail.value==""){
                alert("Il campo mail è obbligatorio");
                info.mail.focus();
                return false;
            }
            if(info.user_id.value==""){
                alert("Il campo user id è obbligatorio");
                info.user_id.focus();
                return false;
            }
            if(info.p1.value==""){
                alert("Il campo password è obbligatorio");
                info.p1.focus();
                return false;
            }
            if(info.p2.value==""){
                alert("Il campo conferma password è obbligatorio");
                info.p2.focus();
                return false;
            }
            if(info.voto.value==""){
                alert("Il campo voto è obbligatorio");
                info.voto.focus();
                return false;
            }   
            return true;         
        }
        function mostra_dati(){
            //data
            anno=info.data.value.substring(0, 4);
            mese=info.data.value.substring(5, 7);
            giorno=info.data.value.substring(8, 10);
            data=giorno+"-"+mese+"-"+anno;
            //password
            password="";
            for(i=0;i<info.p1.value.length;i++)
                password+="*";
            str="nome: "+info.nome.value+";<br> cognome: "+info.cognome.value+";<br> data: "+data+";<br> mail: "+info.mail.value+";<br> user-id: "+info.user_id.value+";<br> password: "+password+";<br> voto: "+info.voto.value+";<br> istituto: "+info.istituto.value+".";
            document.write(str);
        }
    </script>
</head>
<body>
    <form name="info">
        <input type="text" name="nome" placeholder="Inserisci nome*"><br><br>
        <input type="text" name="cognome" placeholder="Inserisci cognome*"><br><br>
        Inserisci la tua data di nascita*:<br>
        <input type="date" name="data"><br><br>
        <input type="email" name="mail" placeholder="Inserisci indirizzo mail*"><br><br>
        <input type="text" name="user_id" placeholder="Inserisci user id*"><br><br>
        <input type="password" name="p1" placeholder="Inserisci password*"><br><br>
        <input type="password" name="p2" placeholder="Conferma password*"><br><br>
        Inserisci voto diploma*:<br>
        <input type="number" name="voto" min="60" max="100"><br><br>
        <select name="istituto">
            <option value="Liceo scientifico">Liceo scientifico</option>
            <option value="Istituto industriale">Istituto industriale</option>
            <option value="Istituto comemrciale">Isituto commerciale</option>
            <option value="Liceo scienze umane">Liceo scienze umane</option>
            <option value="Altro">Altro</option>
        </select><br><br>
        <input type="button" value="Mosta dati" onclick="valida()">
    </form>
</body>
</html>